<div class="page-top-header mb-0">
  <h5 class="card-subtitle mt-0">Payroll Component</h5>
</div>
<div class="row px-3">
  <div class="col-sm-12 border rounded bg-white px-0 custom-remove">
    <div class="p-3 border-top-0 salary_earning_tab">
      <mat-tab-group [selectedIndex]="selectTabIndex" class="universal-tab tabwith-icon"
        (selectedIndexChange)="onTabChange($event)">
        <mat-tab>
          <ng-template mat-tab-label> 
            <span class=""><span> <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg"
                  xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 490.288 490.288" xml:space="preserve">
                  <g>
                    <path
                      d="M197.994,40.144l68.2-39.4c3.6-2.1,8,0.5,8,4.6v21.6h42.2c46.9,0,85.1,38.2,85.1,85.1h-35.6c0-27.3-22.2-49.5-49.5-49.5
                  h-42.2v21.6c0,4.1-4.4,6.7-8,4.6l-68.2-39.4C194.494,47.344,194.494,42.144,197.994,40.144z M291.794,440.944l-68.2-39.4
                  c-3.6-2.1-8,0.5-8,4.6v21.6h-42.2c-27.3,0-49.5-22.2-49.5-49.5h-35.6c0,46.9,38.2,85.1,85.1,85.1h42.2v21.6c0,4.1,4.4,6.7,8,4.6
                  l68.2-39.4C295.294,448.144,295.294,442.944,291.794,440.944z M346.194,224.244c-10.6,0-19.3,8.6-19.3,19.3
                  c0,10.6,8.6,19.3,19.3,19.3c10.6,0,19.3-8.6,19.3-19.3C365.494,232.844,356.794,224.244,346.194,224.244z M143.994,224.244
                  c-10.6,0-19.3,8.6-19.3,19.3c0,10.6,8.6,19.3,19.3,19.3c10.6,0,19.3-8.6,19.3-19.3
                  C163.294,232.844,154.594,224.244,143.994,224.244z M428.194,161.944v163.2c0,17.5-14.2,31.7-31.7,31.7h-302.7
                  c-17.5,0-31.7-14.2-31.7-31.7v-163.2c0-17.5,14.2-31.7,31.7-31.7h302.7C413.894,130.144,428.194,144.444,428.194,161.944z
                   M401.094,196.244c-2.5,0.6-5.2,1-7.9,1c-17.7,0-32.1-14.4-32.1-32.1c0-2.7,0.3-5.3,1-7.8h-235.8c0.4,1.9,0.6,3.9,0.6,5.9
                  c0,17.7-14.4,32.1-32.1,32.1c-1.9,0-3.8-0.2-5.6-0.5v97.5c1.8-0.3,3.7-0.5,5.6-0.5c17.7,0,32.1,14.4,32.1,32.1c0,2-0.2,4-0.6,5.9
                  h234.9c-0.2-1.3-0.3-2.6-0.3-4c0-17.7,14.4-32.1,32.1-32.1c2.7,0,5.4,0.4,7.9,1v-98.5H401.094z M314.594,243.544
                  c0,38.4-31.1,69.5-69.5,69.5s-69.5-31.1-69.5-69.5s31.1-69.5,69.5-69.5C283.494,173.944,314.594,205.144,314.594,243.544z
                   M238.594,225.444c0-2.5,0.6-4.5,1.8-6.1s3.1-2.4,5.7-2.4c2.5,0,4.6,1,6.1,2.9c1.2,1.6,1.9,3.7,2.2,6.6c0.1,1.3,1.3,2.2,2.6,2.2
                  l13-0.2c1.4,0,2.6-1.2,2.5-2.6c-0.3-5.7-2.2-10.5-5.5-14.3c-3.4-4-8-6.6-13.7-7.7v-9.8c0-1.2-1-2.2-2.2-2.2h-7.9
                  c-1.2,0-2.2,1-2.2,2.2v9.5c-6,0.9-10.9,3.1-14.7,6.7c-4.1,4-6.2,9-6.2,15.1c0,6.8,1.9,11.9,5.8,15.4c3.9,3.5,10.1,6.9,18.7,10.4
                  c3.5,1.5,6,3.1,7.3,4.6c1.4,1.6,2.1,3.8,2.1,6.7c0,2.5-0.7,4.5-2,6s-3.3,2.3-5.9,2.3c-3.1,0-5.6-1-7.6-3c-1.6-1.6-2.6-4.1-2.8-7.4
                  c-0.1-1.3-1.3-2.3-2.6-2.2l-13,0.2c-1.4,0-2.6,1.2-2.5,2.6c0.3,6.9,2.6,12.2,6.7,16c4.5,4.1,10.1,6.5,16.7,7.3v8.9
                  c0,1.2,1,2.2,2.2,2.2h7.9c1.2,0,2.2-1,2.2-2.2v-9.2c5.4-1,9.7-3.1,13.1-6.4c4-3.8,6-8.9,6-15.2c0-6.6-2-11.7-5.9-15.3
                  c-4-3.6-10.1-7.1-18.5-10.7c-3.6-1.6-6.1-3.2-7.4-4.7C239.194,229.944,238.594,227.944,238.594,225.444z" />
                  </g>
                </svg></span>Earning</span>
          </ng-template>
          <app-payroll-component-list [selectedIndex]="selectTabIndex" [departmentId]="departmentId" [designationId]="designationId"></app-payroll-component-list>

          <div class="row px-3" *ngIf="false">
            <div class="col-sm-12 border rounded bg-white px-0 custom-remove">

              <div class="content-box p-3 m-10  ">
                <div class="card-body d-flex bd-highlight justify-content-end">
                  <button type="button" class="btn btn-primary rounded-pill px-4 py-2 my-2 " (click)="onBtnClick()">Add
                    Earning</button>
                  <button type="button" class="btn btn-primary rounded-pill px-4 py-2 my-2 d-none"
                    (click)="onBtnClick()">Add
                    Payroll</button>
                </div>  
                <div class="card-body">
                  <div class="table-top">
                    <div class="row">
                      <div class="col-md-4">
                        <div class="pc-h-item  pc-header bg-transparent position-static w-100">
                          <form class="header-search d-block w-100">
                            <div class="search-btn">
                              <i class="ti ti-search"></i>
                            </div>
                            <input type="search" class="form-control w-100" placeholder="Search..."
                              (input)="searchData($event)" />
                          </form>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="table-responsive mt-3 ">
                    <div class="loader-container">
                      <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
                    </div>
                    <table mat-table class="mat-elevation-z8 table-responsive border rounded shadow-none mb-0"
                      [dataSource]="dataSource" matSort>
                      <!-- Position Column -->
                      <ng-container matColumnDef="name">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Earning Name</th>
                        <td mat-cell *matCellDef="let element"> {{element.name
                          }} </td>
                      </ng-container>

                      <ng-container matColumnDef="calucationtype">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header>Calculation Type</th>
                        <td mat-cell *matCellDef="let element">{{element.calucationType
                          }} </td>
                      </ng-container>

                      <ng-container matColumnDef="status">
                        <th mat-header-cell *matHeaderCellDef mat-sort-header> Status </th>
                        <td mat-cell *matCellDef="let element">
                          <div class="form-check form-switch">
                            <input class="form-check-input toggle-switch" type="checkbox" role="switch"
                              id="flexSwitchCheckChecked" [disabled]="true" [checked]="element?.isActive">
                          </div>
                        </td>
                      </ng-container>
                      <ng-container matColumnDef="actions">
                        <th mat-header-cell *matHeaderCellDef class=""> Action</th>
                        <td mat-cell *matCellDef="let element" class="">


                          <div class="d-flex align-items-center btn_hover gap-4">
                            <div class="icon_width m-10">
                              <svg viewBox="64 64 896 896" focusable="false" data-icon="edit"
                                (click)="editItem(element.id)" width="16" height="16" aria-hidden="true">
                                <path
                                  d="M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z">
                                </path>
                              </svg>
                            </div>
                            <div>
                              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                                fill="none" stroke="red" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                                class="feather feather-x" (click)="delete(element.id)">
                                <line x1="18" y1="6" x2="6" y2="18"></line>
                                <line x1="6" y1="6" x2="18" y2="18"></line>
                              </svg>
                            </div>

                          </div>
                        </td>
                      </ng-container>

                      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
                      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

                      <tr class="mat-row" *matNoDataRow>
                        <td class="mat-cell" colspan="4">
                          <div class="text-center d-block border-bottom-0">
                            <img style="width: 25%;" src="assets/images/no-data.png" alt="img" />
                            <h6 class="no-record mt-3">No Data Available</h6>
                          </div>
                        </td>
                      </tr>

                    </table>
                  </div>
                  <div class="text-end d-block mt-3">
                    <div class="pagination-format d-inline-block">
                      <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons
                        aria-label="Select page of periodic elements">
                      </mat-paginator>
                    </div>
                  </div>
                </div>
              </div>

            </div>
          </div>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label> 
            <span class=""><span> <svg viewBox="0 0 1024 1024" class="icon" version="1.1"
                  xmlns="http://www.w3.org/2000/svg">
                  <path
                    d="M731.25 547.39v72.93H475.06v54.59c0 19.89 4.93 38.51 13.04 55.34h-38.49l-194.73-128c-28.84-18.98-65.64-20.57-96.07-4.18a93.73 93.73 0 0 0-49.29 82.57c0 32.05 16.09 61.54 43.04 78.88l238.79 153.77h339.9v36.57H914.1V547.39H731.25z m-318.4 292.75l-220.7-142.12a20.6 20.6 0 0 1-9.48-17.38c0-11.12 7.59-16.43 10.86-18.2 3.29-1.73 11.88-5.18 21.18 0.91l213.02 140.04h230.7v-73.14h-0.71v-0.04h-54.2c-23.98 0-44.46-15.36-52.11-36.75h179.85v146.68H412.85z m428.11 36.57h-36.57V620.53h36.57v256.18zM232.17 501.66c-20.46-35.7-31.27-76.48-31.27-117.95C200.9 252.64 307.51 146 438.54 146 569.6 146 676.2 252.64 676.2 383.71c0 41.43-10.8 82.21-31.25 117.91l63.46 36.36c26.79-46.77 40.93-100.11 40.93-154.27 0-171.41-139.43-310.86-310.8-310.86S127.76 212.3 127.76 383.71c0 54.2 14.16 107.55 40.95 154.3l63.46-36.35z" />
                  <path d="M336.22 350.91l-48.78 54.48 136.73 122.47 170.36-195.97-55.22-48-121.64 139.97z" />
                </svg></span>Deduction</span>
          </ng-template>
          <app-payroll-component-list [selectedIndex]="selectTabIndex" [departmentId]="departmentId" [designationId]="designationId"></app-payroll-component-list>
          </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>